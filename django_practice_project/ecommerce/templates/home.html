{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- ================= CATEGORIES ================= -->
<div class="category-bar">
{% for cat in categories %}
    <a href="/?category={{ cat }}"
       class="category {% if cat == active_category %}active{% endif %}">
        {{ cat }}
    </a>
{% endfor %}
</div>

<!-- ================= STATIC BANNER ================= -->
<div id="bannerCarousel" class="carousel slide mb-4" data-bs-ride="carousel">
  <div class="carousel-inner">

    <div class="carousel-item active">
      <img src="{% static 'images/banner.jpg' %}"
           class="d-block w-100 rounded"
           style="height:350px; object-fit:cover;">
    </div>

    <div class="carousel-item">
      <img src="{% static 'images/banner.jpg' %}"
           class="d-block w-100 rounded"
           style="height:350px; object-fit:cover;">
    </div>

  </div>

  <button class="carousel-control-prev" type="button"
          data-bs-target="#bannerCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>

  <button class="carousel-control-next" type="button"
          data-bs-target="#bannerCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- ================= PRODUCTS ================= -->
<div class="row">
{% for p in products %}
    <div class="col-md-3 col-sm-6 mb-4">
        <div class="card h-100">
            <img src="{{ p.image }}"
                 class="card-img-top"
                 style="height:180px;object-fit:cover;">
            <div class="card-body">
                <h6 class="card-title">{{ p.title }}</h6>
                <p class="text-muted small">
                    {{ p.description|slice:":60" }}...
                </p>
                <p class="fw-bold">â‚¹ {{ p.price }}</p>
                <a href="/add-to-cart/{{ p.id }}/"
                   class="btn btn-sm btn-primary w-100">
                    Add to Cart
                </a>
            </div>
        </div>
    </div>
{% endfor %}
</div>

{% endblock %}
